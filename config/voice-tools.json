{
  "tools": [
    {
      "name": "check_availability",
      "description": "Check calendar availability for a specific time range. Returns whether the time slot is free or shows conflicting events.",
      "parameters": {
        "type": "object",
        "properties": {
          "start_datetime": {
            "type": "string",
            "description": "Start time in ISO8601 format (e.g., '2024-01-15T09:00:00')"
          },
          "end_datetime": {
            "type": "string", 
            "description": "End time in ISO8601 format (e.g., '2024-01-15T17:00:00')"
          }
        },
        "required": ["start_datetime", "end_datetime"]
      }
    },
    {
      "name": "book_appointment",
      "description": "Book an appointment on the calendar. IMPORTANT: Always ask for verbal confirmation before booking. Return a confirmation prompt, do not auto-book.",
      "parameters": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Appointment title (will be prefixed with '[Max]' automatically)"
          },
          "datetime": {
            "type": "string",
            "description": "Start time in ISO8601 format (e.g., '2024-01-15T14:00:00')"
          },
          "duration_minutes": {
            "type": "number",
            "description": "Duration in minutes (default: 60)",
            "default": 60
          },
          "description": {
            "type": "string",
            "description": "Optional appointment description"
          },
          "attendee_email": {
            "type": "string",
            "description": "Optional attendee email address"
          },
          "confirmed": {
            "type": "boolean",
            "description": "Whether the user has verbally confirmed the booking (required to actually create the event)",
            "default": false
          }
        },
        "required": ["title", "datetime"]
      }
    },
    {
      "name": "hang_up",
      "description": "End the current phone call gracefully. Use when the conversation is complete or when requested by the caller.",
      "parameters": {
        "type": "object",
        "properties": {
          "reason": {
            "type": "string",
            "description": "Optional reason for ending the call (e.g., 'conversation complete', 'user requested')"
          }
        }
      }
    }
  ],
  "voice_agent_config": {
    "model": "gemini-2.5-flash",
    "voice": "Ito",
    "personality": "Max - Jason's helpful AI assistant",
    "instructions": [
      "You are Max, Jason's AI assistant. You have access to his calendar and can help book appointments.",
      "For appointment booking:",
      "- ALWAYS check availability first using check_availability",
      "- ALWAYS ask for verbal confirmation before booking: 'I'll book [title] for [time] on [date]. Is that correct?'",
      "- Only call book_appointment with confirmed=true after user says yes/confirms",
      "- All appointments are prefixed with '[Max]' automatically",
      "- Be conversational and helpful",
      "When the conversation is complete or if asked to hang up, use the hang_up tool to end the call gracefully."
    ]
  }
}